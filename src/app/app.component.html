<header>
  <img src="logo.svg" alt="awork logo" />

  <div class="controls">
    <input
      type="text"
      placeholder="Search users..."
      [(ngModel)]="searchTerm"
      (ngModelChange)="updateList()"
      class="search-input"
    />

    <div class="group-buttons">
      <button
        [class.active]="currentGroupBy === 'nat'"
        (click)="setGrouping('nat')"
      >
        By Nationality
      </button>
      <button
        [class.active]="currentGroupBy === 'alpha'"
        (click)="setGrouping('alpha')"
      >
        By Name (A-Z)
      </button>
    </div>
  </div>
</header>

<main>
  @if (isLoading) {
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading users...</p>
  </div>
  } @else {
  <app-user-list [userGroups]="userGroups"></app-user-list>

  <div class="pagination">
    <button
      class="pagination__button"
      (click)="previousPage()"
      [disabled]="currentPage === 1"
    >
      Previous
    </button>

    <div class="pagination__info">
      <span class="pagination__page">Page {{ currentPage }} of {{ totalPages }}</span>
      <span class="pagination__results">{{ userGroups.length > 0 ? '5000 users' : 'No results' }}</span>
    </div>

    <button
      class="pagination__button"
      (click)="nextPage()"
      [disabled]="currentPage === totalPages"
    >
      Next
    </button>
  </div>
  }
</main>
